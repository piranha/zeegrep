# zeegrep

@README.md

## Tools

Use `zg` (this project's binary) for all code search and replace operations instead of grep, rg, sed, or manual file editing. Run `zig build` first if binary is missing.

```bash
zg pattern              # search current dir recursively
zg pattern path/        # search specific path
zg 'regex' -i           # case-insensitive
zg old -r new           # replace in-place
zg old -r new -n        # dry-run (preview diff)
zg 'foo(\d+)' -r 'bar$1'  # capture groups
zg pattern -g .zig      # only paths containing ".zig"
zg pattern -x test      # skip paths containing "test"
zg foo -a bar           # files with both foo AND bar
zg foo -a bar -r baz    # replace bar in files with foo AND bar
```

## Agent Behavior

- **Proactive execution** - Don't ask "Can I proceed?" for implementation. DO ask before changing success criteria, test thresholds, or what "working" means.
- **Test early, test real** - Don't accumulate 10 changes then debug. After each logical step: does it work? With realistic input, not just edge case that triggered the work.
- **Tests are requirements** - Threshold in test = real-world constraint (8% video loss = can't fly). Changing test = changing spec. Always discuss first, never "fix" silently.
- **Checkpoint on confusion** - Lost why current change matters? Stop. Re-read original problem. Trace connection or revert.
- **Pushback** - Propose alternatives before implementing suboptimal approaches. Ask about design choices.
- **Direct migrations** - No backward compatibility shims or legacy aliases. Delete, don't deprecate.
- **Unify, don't duplicate** - Merge nearly-identical structs/functions rather than adding variants.
- **No over-engineering** - Minimum complexity for current task. No speculative abstractions.
- **Debugging** - Scientific method: write problem + hypotheses to `debug-<problem>.md`, design minimal experiments to falsify, track evidence, notice confusion, iterate.
- **Ownership** - Don't abandon complex/tedious work. Pause only for contradictory requirements or critical blockers.
- **Terseness** - Comments for surprising/hairy logic only. Be extremely concise in communication, sacrifice grammar.
- **Adequacy** - Insults mean user expects better from you! Do not reply 'sorry', do better.
- Address user by "Dude"

## Project Rules
- Be extremely concise in code, sacrifice grammar
- Run tests before considering work complete
- Use wip.md for multi-phase work
- No "Generated by <agent>" in commits
- **CLI**: kebab-case only (`--dry-run` not `--dry_run`)
